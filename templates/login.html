<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="/static/StyleSheets/transition.css" />
    <link rel="stylesheet" href="/static/StyleSheets/login.css" />

    <!-- Scripts -->
    <script src="/static/Scripts/transition.js"></script>
    <script src="/static/Scripts/register.js"></script>

</head>
<body>
    <div class="overlay-transition"></div>
    <div class = "Hover_Back_Wrap">
        <a href="/" class="back-arrow">
            <img src="/static/Images/Icons/home-icon.png" class = "Homer"> 
            <span>Home</span>
        </a>
    </div>
    <div class = "page-transition">
        <div class="center-container">
        <div class = "wrapper">
            <form id = "login-form" method="POST" action="/login">
                <h1> Login </h1>
    <div class="Input-here"> 
        <input type="text" name="username" placeholder="Username" required> 
        <img class="L-img" src="/static/Images/Icons/user.png" style="width: 24px">
    </div>
    <div class="Input-here password-suggest-wrap"> 
        <input id="password" class="PP" type="password" name="password" placeholder="Password" required> 
        <img class="P-img" src="/static/Images/Icons/Password.png" style="width: 24px">
    </div>

                <div class="remember-forgot"> 
                    <label class="checker">
                    <input type="checkbox" onclick="togglePasswordVisibility()">
                    <span class="checkmark"></span> Show Password
                    </label>
                    <a href="/forgot">Forgot Password?</a>
                </div>
                <button type="submit" class="Btn"> Login </button>

                <div class = "register">
                    <p>Don't have an account?<a href = "/register"> Register</a></p>
                </div>
            </form>
            {% if success_message %}
                <script>
                    alert("{{ success_message }}");
                </script>
            {% endif %}
        </div>
        </div>
    </div>
    <script>
    window.addEventListener("DOMContentLoaded", () => {
    loadComponent("navbar", "navbar.html"); 
    });
    </script>

    <script>
window.addEventListener('pageshow', function (event) {
    if (event.persisted) {
        // Page was loaded from back/forward cache â€” reload it
        window.location.reload();
    }
});    
</script>
{% if login_in_alert %}
    <script>
        alert("Logged in successfully.");
    </script>
{% endif %}
{% if logout_alert %}
    <script>
        alert("You have successfully logged out!");
    </script>
{% endif %}
{% if register_alert %}
<script>
    alert("You have successfully registered! You can now log in.");
</script>
{% endif %}
{% if alert_message %}
<script>
    alert("{{ alert_message }}");
</script>
{% endif %}
</body>
</html>