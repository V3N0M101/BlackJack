<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="/static/StyleSheets/transition.css" />
    <link rel="stylesheet" href="/static/StyleSheets/login.css" />
    <link rel="stylesheet" href="/static/StyleSheets/register.css" />
    <!-- JS Files -->
    <script src="/static/Scripts/transition.js"></script>
    <script src="/static/Scripts/register.js"></script>
</head>
<body>
  <div class="overlay-transition"></div>
  <div class="Hover_Back_Wrap">
    <a href="/" onclick="history.back();" class="back-arrow">
      <img src="/static/Images/Icons/home-icon.png" class="Homer">
      <span>Home</span>
    </a>
  </div>
  <div class="page-transition">
    <div class="center-container">
      <div class="wrapper">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="flash-messages">
              {% for message in messages %}
                <p style="color: red;">{{ message }}</p>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <form id="register-form" method="POST" action="/register">
          <h1> Register </h1>

          <!-- Email -->
          <div class="Input-here">
            <input type="email" name="email" placeholder="Email" required>
            <img class="L-img" src="/static/Images/Icons/email.png" style="width: 24px">
          </div>

          <!-- Username -->
          <div class="Input-here">
            <input type="text" name="username" placeholder="Username" required>
            <img class="L-img" src="/static/Images/Icons/user.png" style="width: 24px">
          </div>

          <!-- Password -->
          <div class="Input-here password-suggest-wrap">
              <input id="password" name="password" class="PP" type="password" placeholder="Password" required>
              <img class="P-img" src="/static/Images/Icons/Password.png" style="width: 24px">
              <button type="button" class="suggest-btn" onclick="suggestPassword()">Suggest</button>
          </div>

          <!-- Confirm Password -->
          <div class="Input-here">
              <input id="confirm-password" name="confirm_password" class="PP" type="password" placeholder="Confirm Password" required>
              <img class="P-img" src="/static/Images/Icons/Password.png" style="width: 24px">
          </div>

          <div class="remember-forgot">
            <label class="checker">
              <input type="checkbox" onclick="togglePasswordVisibility()">
              <span class="checkmark"></span> Show Password
            </label>
          </div>

          <button type="submit" class="Btn"> Register </button>

          <div class="register">
            <p>Already have an account?<a href="/login"> Login</a></p>
          </div>
        </form>
        {% if register_alert %}
          <script>
            alert("{{ alert_message }}");
          </script>
        {% endif %}
      </div>
    </div>
  </div>

  <script>
    window.addEventListener('pageshow', function (event) {
      if (event.persisted) {
        // Page was loaded from back/forward cache â€” reload it
        window.location.reload();
      }
    });
  </script>
{% if alert_message %}
<script>
    alert("{{ alert_message }}");
</script>
{% endif %}
</body>
</html>
